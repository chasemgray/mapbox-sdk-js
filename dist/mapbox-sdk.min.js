!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.MapboxClient=t()}}(function(){return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return o(r?r:t)},p,p.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e){"use strict";var r=t("rest/interceptor"),n=r({success:function(t){var e=t&&t.callback;return"function"==typeof e&&e(null,t.entity,t),t},error:function(t){var e=t&&t.callback;if("function"==typeof e){var r=t.error||t.entity;"object"!=typeof r&&(r=new Error(r)),e(r)}return t}});e.exports=n},{"rest/interceptor":24}],2:[function(t,e){"use strict";var r=t("rest"),n=t("./standard_response"),o=t("./callbackify");e.exports=function(e){return r.wrap(t("rest/interceptor/errorCode")).wrap(t("rest/interceptor/pathPrefix"),{prefix:e.endpoint}).wrap(t("rest/interceptor/mime"),{mime:"application/json"}).wrap(t("rest/interceptor/params")).wrap(t("rest/interceptor/defaultRequest"),{params:{access_token:e.accessToken}}).wrap(t("rest/interceptor/template")).wrap(n).wrap(o)}},{"./callbackify":1,"./standard_response":17,rest:20,"rest/interceptor/defaultRequest":25,"rest/interceptor/errorCode":26,"rest/interceptor/mime":27,"rest/interceptor/params":28,"rest/interceptor/pathPrefix":29,"rest/interceptor/template":30}],3:[function(t,e){e.exports.DEFAULT_ENDPOINT="https://api.mapbox.com",e.exports.API_GEOCODING_FORWARD="/geocoding/v5/{dataset}/{query}.json{?proximity,country,types,bbox,limit}",e.exports.API_GEOCODING_REVERSE="/geocoding/v5/{dataset}/{longitude},{latitude}.json{?types,limit}",e.exports.API_DIRECTIONS="/v4/directions/{profile}/{encodedWaypoints}.json{?alternatives,instructions,geometry,steps}",e.exports.API_DISTANCE="/distances/v1/mapbox/{profile}",e.exports.API_SURFACE="/v4/surface/{mapid}.json{?layer,fields,points,geojson,interpolate,encoded_polyline}",e.exports.API_UPLOADS="/uploads/v1/{owner}",e.exports.API_UPLOAD="/uploads/v1/{owner}/{upload}",e.exports.API_UPLOAD_CREDENTIALS="/uploads/v1/{owner}/credentials",e.exports.API_MATCHING="/matching/v4/{profile}.json",e.exports.API_DATASET_DATASETS="/datasets/v1/{owner}{?limit,start,fresh}",e.exports.API_DATASET_DATASET="/datasets/v1/{owner}/{dataset}",e.exports.API_DATASET_FEATURES="/datasets/v1/{owner}/{dataset}/features{?reverse,limit,start}",e.exports.API_DATASET_FEATURE="/datasets/v1/{owner}/{dataset}/features/{id}",e.exports.API_TILESTATS_STATISTICS="/tilestats/v1/{owner}/{tileset}",e.exports.API_TILESTATS_LAYER="/tilestats/v1/{owner}/{tileset}/{layer}",e.exports.API_TILESTATS_ATTRIBUTE="/tilestats/v1/{owner}/{tileset}/{layer}/{attribute}",e.exports.API_STATIC="/v4/{mapid}{+overlay}/{+xyz}/{width}x{height}{+retina}{.format}{?access_token}",e.exports.API_STYLES_LIST="/styles/v1/{owner}",e.exports.API_STYLES_CREATE="/styles/v1/{owner}",e.exports.API_STYLES_READ="/styles/v1/{owner}/{styleid}",e.exports.API_STYLES_UPDATE="/styles/v1/{owner}/{styleid}",e.exports.API_STYLES_DELETE="/styles/v1/{owner}/{styleid}",e.exports.API_STYLES_EMBED="/styles/v1/{owner}/{styleid}.html{?zoomwheel,title,access_token}",e.exports.API_STYLES_SPRITE="/styles/v1/{owner}/{styleid}/sprite{+retina}{.format}",e.exports.API_STYLES_SPRITE_ADD_ICON="/styles/v1/{owner}/{styleid}/sprite/{iconName}",e.exports.API_STYLES_SPRITE_DELETE_ICON="/styles/v1/{owner}/{styleid}/sprite/{iconName}",e.exports.API_STYLES_FONT_GLYPH_RANGES="/fonts/v1/{owner}/{font}/{start}-{end}.pbf"},{}],4:[function(t,e){"use strict";function r(t){return t.map(function(t){return n(t),t.longitude+","+t.latitude}).join(";")}var n=t("./invariant_location");e.exports=r},{"./invariant_location":6}],5:[function(t,e){"use strict";function r(t){var e=t.split(".")[1];if(!e)return null;e=e.replace(/-/g,"+").replace(/_/g,"/");var r=e.length%4;if(2===r&&(e+="=="),3===r&&(e+="="),1===r||r>3)return null;try{return JSON.parse(n.decode(e)).u}catch(o){return null}}var n=t("rest/util/base64");e.exports=r},{"rest/util/base64":39}],6:[function(t,e){"use strict";function r(t){n("number"==typeof t.latitude&&"number"==typeof t.longitude,"location must be an object with numeric latitude & longitude properties"),void 0!==t.zoom&&n("number"==typeof t.zoom,"zoom must be numeric")}var n=t("../vendor/invariant");e.exports=r},{"../vendor/invariant":48}],7:[function(t,e){"use strict";function r(t){function e(e,r){this.name=t,n("string"==typeof e,"accessToken required to instantiate Mapbox client");var a=o.DEFAULT_ENDPOINT;void 0!==r&&(n("object"==typeof r,"options must be an object"),r.endpoint&&(n("string"==typeof r.endpoint,"endpoint must be a string"),a=r.endpoint),r.account&&(n("string"==typeof r.account,"account must be a string"),this.owner=r.account)),this.client=i({endpoint:a,accessToken:e}),this.accessToken=e,this.endpoint=a,this.owner=this.owner||s(e),n(!!this.owner,"could not determine account from provided accessToken")}return e}var n=t("../vendor/invariant"),o=t("./constants"),i=t("./client"),s=t("./get_user");e.exports=r},{"../vendor/invariant":48,"./client":2,"./constants":3,"./get_user":5}],8:[function(t,e){"use strict";var r=t("./make_service"),n=t("../vendor/xtend").extendMutable,o=t("./get_user"),i=t("./services/geocoding"),s=t("./services/surface"),a=t("./services/directions"),c=t("./services/uploads"),u=t("./services/matching"),p=t("./services/datasets"),l=t("./services/distance"),f=t("./services/tilestats"),d=r("MapboxClient");n(d.prototype,i.prototype,s.prototype,a.prototype,l.prototype,u.prototype,p.prototype,c.prototype,f.prototype),d.getUser=o,e.exports=d},{"../vendor/xtend":49,"./get_user":5,"./make_service":7,"./services/datasets":9,"./services/directions":10,"./services/distance":11,"./services/geocoding":12,"./services/matching":13,"./services/surface":14,"./services/tilestats":15,"./services/uploads":16}],9:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../../vendor/hat"),o=t("../make_service"),i=t("../constants"),s=e.exports=o("MapboxDatasets");s.prototype.listDatasets=function(t,e){return"function"==typeof t&&(e=t,t={}),this.client({path:i.API_DATASET_DATASETS,params:{limit:t.limit,start:t.start,fresh:t.fresh,owner:this.owner},callback:e})},s.prototype.createDataset=function(t,e){return void 0===e&&"function"==typeof t&&(e=t,t={}),r("object"==typeof t,"options must be an object"),this.client({path:i.API_DATASET_DATASETS,params:{owner:this.owner},entity:t,callback:e})},s.prototype.readDataset=function(t,e){return r("string"==typeof t,"dataset must be a string"),this.client({path:i.API_DATASET_DATASET,params:{owner:this.owner,dataset:t},callback:e})},s.prototype.updateDataset=function(t,e,n){return r("string"==typeof t,"dataset must be a string"),r("object"==typeof e,"options must be an object"),r(!!e.name||!!e.description,"options must include a name or a description"),this.client({path:i.API_DATASET_DATASET,params:{owner:this.owner,dataset:t},method:"patch",entity:e,callback:n})},s.prototype.deleteDataset=function(t,e){return r("string"==typeof t,"dataset must be a string"),this.client({path:i.API_DATASET_DATASET,params:{owner:this.owner,dataset:t},method:"delete",callback:e})},s.prototype.listFeatures=function(t,e,n){void 0===n&&"function"==typeof e&&(n=e,e={}),r("string"==typeof t,"dataset must be a string"),r("object"==typeof e,"options must be a object");var o={owner:this.owner,dataset:t};return e.reverse&&(r("boolean"==typeof e.reverse,"reverse option must be a boolean"),o.reverse=e.reverse),e.limit&&(r("number"==typeof e.limit,"limit option must be a number"),o.limit=e.limit),e.start&&(r("string"==typeof e.start,"start option must be a string"),o.start=e.start),this.client({path:i.API_DATASET_FEATURES,params:o,callback:n})},s.prototype.insertFeature=function(t,e,o){r("string"==typeof e,"dataset must be a string");var s=t.id||n();return r("string"==typeof s,"The GeoJSON feature's id must be a string"),this.client({path:i.API_DATASET_FEATURE,params:{owner:this.owner,dataset:e,id:s},method:"put",entity:t,callback:o})},s.prototype.readFeature=function(t,e,n){return r("string"==typeof t,"id must be a string"),r("string"==typeof e,"dataset must be a string"),this.client({path:i.API_DATASET_FEATURE,params:{owner:this.owner,dataset:e,id:t},callback:n})},s.prototype.deleteFeature=function(t,e,n){return r("string"==typeof t,"id must be a string"),r("string"==typeof e,"dataset must be a string"),this.client({path:i.API_DATASET_FEATURE,params:{owner:this.owner,dataset:e,id:t},method:"delete",callback:n})}},{"../../vendor/hat":47,"../../vendor/invariant":48,"../constants":3,"../make_service":7}],10:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../format_points"),o=t("../make_service"),i=t("../constants"),s=o("MapboxDirections");s.prototype.getDirections=function(t,e,o){void 0===o&&"function"==typeof e?(o=e,e={}):void 0===e&&(e={}),r(Array.isArray(t),"waypoints must be an array"),r("object"==typeof e,"options must be an object");var s=n(t),a="mapbox.driving",c=!0,u=!0,p="geojson",l="text";return e.profile&&(r("string"==typeof e.profile,"profile option must be string"),a=e.profile),"undefined"!=typeof e.alternatives&&(r("boolean"==typeof e.alternatives,"alternatives option must be boolean"),c=e.alternatives),"undefined"!=typeof e.steps&&(r("boolean"==typeof e.steps,"steps option must be boolean"),u=e.steps),e.geometry&&(r("string"==typeof e.geometry,"geometry option must be string"),p=e.geometry),e.instructions&&(r("string"==typeof e.instructions,"instructions option must be string"),l=e.instructions),this.client({path:i.API_DIRECTIONS,params:{encodedWaypoints:s,profile:a,instructions:l,geometry:p,alternatives:c,steps:u},callback:o})},e.exports=s},{"../../vendor/invariant":48,"../constants":3,"../format_points":4,"../make_service":7}],11:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../make_service"),o=t("../constants"),i=n("MapboxDistance");i.prototype.getDistances=function(t,e,n){void 0===n&&"function"==typeof e&&(n=e,e={}),r(Array.isArray(t),"waypoints must be an array");var i="driving";return e.profile&&(r("string"==typeof e.profile,"profile option must be string"),i=e.profile),this.client({path:o.API_DISTANCE,params:{profile:i},entity:{coordinates:t},method:"post",callback:n})},e.exports=i},{"../../vendor/invariant":48,"../constants":3,"../make_service":7}],12:[function(t,e){"use strict";function r(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r}var n=t("../../vendor/invariant"),o=t("../make_service"),i=t("../constants"),s=o("MapboxGeocoding"),a=5,c=3;s.prototype.geocodeForward=function(t,e,o){if(void 0===o&&"function"==typeof e&&(o=e,e={}),Array.isArray(t)){if("mapbox.places-permanent"!==e.dataset)throw new Error("Batch geocoding is only available with the mapbox.places-permanent endpoint. See https://mapbox.com/api-documentation/#batch-requests for details");t=t.join(";")}n("string"==typeof t,"query must be a string"),n("object"==typeof e,"options must be an object");var s={query:t,dataset:"mapbox.places"},a=c;return e.precision&&(n("number"==typeof e.precision,"precision option must be number"),a=e.precision),e.proximity&&(n("number"==typeof e.proximity.latitude&&"number"==typeof e.proximity.longitude,"proximity must be an object with numeric latitude & longitude properties"),s.proximity=r(e.proximity.longitude,a)+","+r(e.proximity.latitude,a)),e.bbox&&(n("number"==typeof e.bbox[0]&&"number"==typeof e.bbox[1]&&"number"==typeof e.bbox[2]&&"number"==typeof e.bbox[3]&&4===e.bbox.length,"bbox must be an array with numeric values in the form [minX, minY, maxX, maxY]"),s.bbox=e.bbox[0]+","+e.bbox[1]+","+e.bbox[2]+","+e.bbox[3]),e.limit&&(n("number"==typeof e.limit,"limit must be a number"),s.limit=e.limit),e.dataset&&(n("string"==typeof e.dataset,"dataset option must be string"),s.dataset=e.dataset),e.country&&(n("string"==typeof e.country,"country option must be string"),s.country=e.country),e.types&&(n("string"==typeof e.types,"types option must be string"),s.types=e.types),"boolean"==typeof e.autocomplete&&(n("boolean"==typeof e.autocomplete,"autocomplete must be a boolean"),s.autocomplete=e.autocomplete),this.client({path:i.API_GEOCODING_FORWARD,params:s,callback:o})},s.prototype.geocodeReverse=function(t,e,o){void 0===o&&"function"==typeof e&&(o=e,e={}),n("object"==typeof t,"location must be an object"),n("object"==typeof e,"options must be an object"),n("number"==typeof t.latitude&&"number"==typeof t.longitude,"location must be an object with numeric latitude & longitude properties");var s={dataset:"mapbox.places"};e.dataset&&(n("string"==typeof e.dataset,"dataset option must be string"),s.dataset=e.dataset);var c=a;return e.precision&&(n("number"==typeof e.precision,"precision option must be number"),c=e.precision),e.types&&(n("string"==typeof e.types,"types option must be string"),s.types=e.types),e.limit&&(n("number"==typeof e.limit,"limit option must be a number"),n(1===e.types.split(",").length,"a single type must be specified to use the limit option"),s.limit=e.limit),s.longitude=r(t.longitude,c),s.latitude=r(t.latitude,c),this.client({path:i.API_GEOCODING_REVERSE,params:s,callback:o})},e.exports=s},{"../../vendor/invariant":48,"../constants":3,"../make_service":7}],13:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../make_service"),o=t("../constants"),i=n("MapboxMatching");i.prototype.matching=function(t,e,n){void 0===n&&"function"==typeof e&&(n=e,e={}),r("object"==typeof t,"trace must be an object"),r("object"==typeof e,"options must be an object");var i="mapbox.driving",s=4,a="geojson";return void 0!==e.gps_precision&&(r("number"==typeof e.gps_precision,"gps_precision must be a number"),s=e.gps_precision),e.profile&&(r("string"==typeof e.profile,"profile option must be string"),i=e.profile),e.geometry&&(r("string"==typeof e.geometry,"geometry option must be string"),a=e.geometry),this.client({path:o.API_MATCHING,params:{profile:i,geometry:a,gps_precision:s},method:"post",entity:t,callback:n})},e.exports=i},{"../../vendor/invariant":48,"../constants":3,"../make_service":7}],14:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../format_points"),o=t("../make_service"),i=t("../constants"),s=o("MapboxSurface");s.prototype.surface=function(t,e,o,s,a,c){void 0===c&&"function"==typeof a&&(c=a,a={}),r("string"==typeof t,"mapid must be a string"),r("string"==typeof e,"layer must be a string"),r(Array.isArray(o),"fields must be an array of strings"),r(Array.isArray(s)||"string"==typeof s,"path must be an array of objects or a string"),r("object"==typeof a,"options must be an object");var u=!0,p=!1;void 0!==a.interpolate&&(r("boolean"==typeof a.interpolate,"interpolate must be a boolean"),u=a.interpolate),void 0!==a.geojson&&(r("boolean"==typeof a.geojson,"geojson option must be boolean"),p=a.geojson);var l={geojson:p,layer:e,mapid:t,fields:o.join(","),interpolate:u};return Array.isArray(s)?l.points=n(s):l.encoded_polyline=s,void 0!==a.zoom&&(r("number"==typeof a.zoom,"zoom must be a number"),l.z=a.zoom),this.client({path:i.API_SURFACE,params:l,callback:c})},e.exports=s},{"../../vendor/invariant":48,"../constants":3,"../format_points":4,"../make_service":7}],15:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../make_service"),o=t("../constants"),i=e.exports=n("MapboxTilestats");i.prototype.getTilestats=function(t,e){r("string"==typeof t,"tileset must be a string");var n=t.split(".")[0];return n===t&&(n=this.owner),this.client({path:o.API_TILESTATS_STATISTICS,params:{owner:n,tileset:t},callback:e})},i.prototype.putTilestats=function(t,e,n){r("string"==typeof t,"tileset must be a string");var i=t.split(".")[0];return i===t&&(i=this.owner),this.client({path:o.API_TILESTATS_STATISTICS,params:{owner:i,tileset:t},entity:e,method:"put",callback:n})}},{"../../vendor/invariant":48,"../constants":3,"../make_service":7}],16:[function(t,e){"use strict";var r=t("../../vendor/invariant"),n=t("../make_service"),o=t("../constants"),i=e.exports=n("MapboxUploads");i.prototype.listUploads=function(t){return this.client({path:o.API_UPLOADS,params:{owner:this.owner},callback:t})},i.prototype.createUploadCredentials=function(t){return this.client({path:o.API_UPLOAD_CREDENTIALS,params:{owner:this.owner},callback:t})},i.prototype.createUpload=function(t,e){return r("object"==typeof t,"options must be an object"),this.client({path:o.API_UPLOADS,params:{owner:this.owner},entity:t,callback:e})},i.prototype.readUpload=function(t,e){return r("string"==typeof t,"upload must be a string"),this.client({path:o.API_UPLOAD,params:{owner:this.owner,upload:t},callback:e})},i.prototype.deleteUpload=function(t,e){return r("string"==typeof t,"upload must be a string"),this.client({method:"delete",path:o.API_UPLOAD,params:{owner:this.owner,upload:t},callback:e})}},{"../../vendor/invariant":48,"../constants":3,"../make_service":7}],17:[function(t,e){function r(t){var e=void 0;return t.status&&(e=t.status.code),{url:t.url,status:e,headers:t.headers,entity:t.entity,error:t.error,callback:t.request.callback}}var n=t("rest/interceptor"),o=n({response:r});e.exports=o},{"rest/interceptor":24}],18:[function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(p===setTimeout)return setTimeout(t,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){h&&d&&(h=!1,d.length?m=d.concat(m):y=-1,m.length&&a())}function a(){if(!h){var t=o(s);h=!0;for(var e=m.length;e;){for(d=m,m=[];++y<e;)d&&d[y].run();y=-1,e=m.length}d=null,h=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var p,l,f=e.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(t){p=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var d,m=[],h=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];m.push(new c(t,e)),1!==m.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],19:[function(t,e){"use strict";function r(t,e){var r,n,o,i,a;if(r=t,o={},e){for(n in e)a=new RegExp("\\{"+n+"\\}"),a.test(r)?r=r.replace(a,encodeURIComponent(e[n]),"g"):o[n]=e[n];i=s.write(o),i&&(r+=-1===r.indexOf("?")?"?":"&",r+=i)}return r}function n(t,e){return 0===t.indexOf(e)}function o(t,e){return this instanceof o?void(t instanceof o?(this._template=t.template,this._params=i({},this._params,e)):(this._template=(t||"").toString(),this._params=e||{})):new o(t,e)}var i,s,a,c,u,p;i=t("./util/mixin"),s=t("./mime/type/application/x-www-form-urlencoded"),c=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,u=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,p=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(t,e){return new o(this._template+t,i({},this._params,e))},fullyQualify:function(){if("undefined"==typeof location)return this;if(this.isFullyQualified())return this;var t=this._template;return n(t,"//")?t=a.protocol+t:n(t,"/")?t=a.origin+t:this.isAbsolute()||(t=a.origin+a.pathname.substring(0,a.pathname.lastIndexOf("/")+1)),-1===t.indexOf("/",8)&&(t+="/"),new o(t,this._params)},isAbsolute:function(){return u.test(this.build())},isFullyQualified:function(){return p.test(this.build())},isCrossOrigin:function(){if(!a)return!0;var t=this.parts();return t.protocol!==a.protocol||t.hostname!==a.hostname||t.port!==a.port},parts:function(){var t,e;return t=this.fullyQualify().build().match(c),e={href:t[0],protocol:t[1],host:t[3]||"",hostname:t[4]||"",port:t[6],pathname:t[7]||"",search:t[8]||"",hash:t[9]||""},e.origin=e.protocol+"//"+e.host,e.port=e.port||("https:"===e.protocol?"443":"http:"===e.protocol?"80":""),e},build:function(t){return r(this._template,i({},this._params,t))},toString:function(){return this.build()}},a="undefined"!=typeof location?new o(location.href).parts():void 0,e.exports=o},{"./mime/type/application/x-www-form-urlencoded":35,"./util/mixin":42}],20:[function(t,e){"use strict";var r=t("./client/default"),n=t("./client/xhr");r.setPlatformDefaultClient(n),e.exports=r},{"./client/default":22,"./client/xhr":23}],21:[function(t,e){"use strict";e.exports=function(t,e){return e&&(t.skip=function(){return e}),t.wrap=function(e,r){return e(t,r)},t.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),t.wrap.apply(this,arguments)},t}},{}],22:[function(t,e){"use strict";function r(){return o.apply(void 0,arguments)}var n,o,i;n=t("../client"),"function"!=typeof Promise&&console&&console.log&&console.log("An ES6 Promise implementation is required to use rest.js. See https://github.com/cujojs/when/blob/master/docs/es6-promise-shim.md for using when.js as a Promise polyfill."),r.setDefaultClient=function(t){o=t},r.getDefaultClient=function(){return o},r.resetDefaultClient=function(){o=i},r.setPlatformDefaultClient=function(t){if(i)throw new Error("Unable to redefine platformDefaultClient");o=i=t},e.exports=n(r)},{"../client":21}],23:[function(t,e){"use strict";function r(t){var e={};return t?(t.trim().split(a).forEach(function(t){var r,n,i;r=t.indexOf(":"),n=o(t.substring(0,r).trim()),i=t.substring(r+1).trim(),e[n]?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}),e):e}function n(t,e){return Object.keys(e||{}).forEach(function(r){if(e.hasOwnProperty(r)&&r in t)try{t[r]=e[r]}catch(n){}}),t}var o,i,s,a;o=t("../util/normalizeHeaderName"),i=t("../util/responsePromise"),s=t("../client"),a=/[\r|\n]+/,e.exports=s(function(t){return i.promise(function(e,o){var i,s,a,c,u,p,l,f;if(t="string"==typeof t?{path:t}:t||{},l={request:t},t.canceled)return l.error="precanceled",void o(l);if(f=t.engine||XMLHttpRequest,!f)return void o({request:t,error:"xhr-not-available"});u=t.entity,t.method=t.method||(u?"POST":"GET"),s=t.method,a=l.url=t.path||"";try{i=l.raw=new f,n(i,t.mixin),i.open(s,a,!0),n(i,t.mixin),c=t.headers;for(p in c)("Content-Type"!==p||"multipart/form-data"!==c[p])&&i.setRequestHeader(p,c[p]);t.canceled=!1,t.cancel=function(){t.canceled=!0,i.abort(),o(l)},i.onreadystatechange=function(){t.canceled||i.readyState===(f.DONE||4)&&(l.status={code:i.status,text:i.statusText},l.headers=r(i.getAllResponseHeaders()),l.entity=i.responseText,1223===l.status.code&&(l.status.code=204),l.status.code>0?e(l):setTimeout(function(){e(l)},0))};try{i.onerror=function(){l.error="loaderror",o(l)}}catch(d){}i.send(u)}catch(d){l.error="loaderror",o(l)}})})},{"../client":21,"../util/normalizeHeaderName":43,"../util/responsePromise":44}],24:[function(t,e){"use strict";function r(t){return t}function n(t){return t}function o(t){return t}function i(t){return this instanceof i?void c(this,t):new i(t)}function s(t){var e,s,c,l;return t=t||{},e=t.init||r,s=t.request||n,c=t.success||t.response||o,l=t.error||function(){return Promise.resolve((t.response||o).apply(this,arguments)).then(Promise.reject.bind(Promise))},function(r,n){function o(t){var e,a;return e={},a={arguments:Array.prototype.slice.call(arguments),client:o},t="string"==typeof t?{path:t}:t||{},t.originator=t.originator||o,u(s.call(e,t,n,a),function(t){var o,s,u;return u=r,t instanceof i&&(s=t.abort,u=t.client||u,o=t.response,t=t.request),o=o||Promise.resolve(t).then(function(t){return Promise.resolve(u(t)).then(function(t){return c.call(e,t,n,a)},function(t){return l.call(e,t,n,a)})}),s?Promise.race([o,s]):o},function(e){return Promise.reject({request:t,error:e})})}return"object"==typeof r&&(n=r),"function"!=typeof r&&(r=t.client||a),n=e(n||{}),p(o,r)}}var a,c,u,p;a=t("./client/default"),c=t("./util/mixin"),u=t("./util/responsePromise"),p=t("./client"),s.ComplexRequest=i,e.exports=s},{"./client":21,"./client/default":22,"./util/mixin":42,"./util/responsePromise":44}],25:[function(t,e){"use strict";var r,n,o;r=t("../interceptor"),n=t("../util/mixin"),o=function(){function t(t,e,r){(t in e||t in r)&&(e[t]=n({},r[t],e[t]))}function e(t,e,r){t in r&&!(t in e)&&(e[t]=r[t])}var r={method:e,path:e,params:t,headers:t,entity:e,mixin:t};return function(t,e){for(var n in r)r[n](n,t,e);return t}}(),e.exports=r({request:function(t,e){return o(t,e)}})},{"../interceptor":24,"../util/mixin":42}],26:[function(t,e){"use strict";var r;r=t("../interceptor"),e.exports=r({init:function(t){return t.code=t.code||400,t},response:function(t,e){return t.status&&t.status.code>=e.code?Promise.reject(t):t}})},{"../interceptor":24}],27:[function(t,e){"use strict";var r,n,o,i,s,a;r=t("../interceptor"),n=t("../mime"),o=t("../mime/registry"),a=t("../util/attempt"),i={read:function(t){return t},write:function(t){return t}},s={read:function(){throw"No read method found on converter"},write:function(){throw"No write method found on converter"}},e.exports=r({init:function(t){return t.registry=t.registry||o,t},request:function(t,e){var r,o;return o=t.headers||(t.headers={}),r=n.parse(o["Content-Type"]||e.mime||"text/plain"),o.Accept=o.Accept||e.accept||r.raw+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in t?(o["Content-Type"]=r.raw,e.registry.lookup(r)["catch"](function(){if(e.permissive)return i;throw"mime-unknown"}).then(function(n){var o=e.client||t.originator,i=n.write||s.write;return a(i.bind(void 0,t.entity,{client:o,request:t,mime:r,registry:e.registry}))["catch"](function(){throw"mime-serialization"}).then(function(e){return t.entity=e,t})})):t},response:function(t,e){if(!(t.headers&&t.headers["Content-Type"]&&t.entity))return t;var r=n.parse(t.headers["Content-Type"]);return e.registry.lookup(r)["catch"](function(){return i}).then(function(n){var o=e.client||t.request&&t.request.originator,i=n.read||s.read;return a(i.bind(void 0,t.entity,{client:o,response:t,mime:r,registry:e.registry}))["catch"](function(e){throw t.error="mime-deserialization",t.cause=e,t}).then(function(e){return t.entity=e,t})})}})},{"../interceptor":24,"../mime":31,"../mime/registry":32,"../util/attempt":38}],28:[function(t,e){"use strict";var r,n;r=t("../interceptor"),n=t("../UrlBuilder"),e.exports=r({init:function(t){return t.params=t.params||{},t},request:function(t,e){var r,o;return r=t.path||"",o=t.params||{},t.path=new n(r,e.params).append("",o).build(),delete t.params,t}})},{"../UrlBuilder":19,"../interceptor":24}],29:[function(t,e){"use strict";function r(t,e){return 0===t.indexOf(e)}function n(t,e){return t.lastIndexOf(e)+e.length===t.length}var o,i;o=t("../interceptor"),i=t("../UrlBuilder"),e.exports=o({request:function(t,e){var o;return e.prefix&&!new i(t.path).isFullyQualified()&&(o=e.prefix,t.path&&(n(o,"/")||r(t.path,"/")||(o+="/"),o+=t.path),t.path=o),t}})},{"../UrlBuilder":19,"../interceptor":24}],30:[function(t,e){"use strict";var r,n,o;r=t("../interceptor"),n=t("../util/uriTemplate"),o=t("../util/mixin"),e.exports=r({init:function(t){return t.params=t.params||{},t.template=t.template||"",t},request:function(t,e){var r,i;return r=t.path||e.template,i=o({},t.params,e.params),t.path=n.expand(r,i),delete t.params,t}})},{"../interceptor":24,"../util/mixin":42,"../util/uriTemplate":46}],31:[function(t,e){"use strict";function r(t){var e,r;return e=t.split(";"),r=e[0].trim().split("+"),{raw:t,type:r[0],suffix:r[1]?"+"+r[1]:"",params:e.slice(1).reduce(function(t,e){return e=e.split("="),t[e[0].trim()]=e[1]?e[1].trim():void 0,t},{})}}e.exports={parse:r}},{}],32:[function(t,e){"use strict";function r(t){this.lookup=function(e){var r;return r="string"==typeof e?n.parse(e):e,t[r.raw]?t[r.raw]:t[r.type+r.suffix]?t[r.type+r.suffix]:t[r.type]?t[r.type]:t[r.suffix]?t[r.suffix]:Promise.reject(new Error('Unable to locate converter for mime "'+r.raw+'"'))},this.delegate=function(t){return{read:function(){var e=arguments;return this.lookup(t).then(function(t){return t.read.apply(this,e)}.bind(this))}.bind(this),write:function(){var e=arguments;return this.lookup(t).then(function(t){return t.write.apply(this,e)}.bind(this))}.bind(this)}},this.register=function(e,r){return t[e]=Promise.resolve(r),t[e]},this.child=function(){return new r(Object.create(t))}}var n,o;n=t("../mime"),o=new r({}),o.register("application/hal",t("./type/application/hal")),o.register("application/json",t("./type/application/json")),o.register("application/x-www-form-urlencoded",t("./type/application/x-www-form-urlencoded")),o.register("multipart/form-data",t("./type/multipart/form-data")),o.register("text/plain",t("./type/text/plain")),o.register("+json",o.delegate("application/json")),e.exports=o},{"../mime":31,"./type/application/hal":33,"./type/application/json":34,"./type/application/x-www-form-urlencoded":35,"./type/multipart/form-data":36,"./type/text/plain":37}],33:[function(t,e){"use strict";function r(t,e,r){Object.defineProperty(t,e,{value:r,configurable:!0,enumerable:!1,writeable:!0})}var n,o,i,s,a;n=t("../../../interceptor/pathPrefix"),o=t("../../../interceptor/template"),i=t("../../../util/find"),s=t("../../../util/lazyPromise"),a=t("../../../util/responsePromise"),e.exports={read:function(t,e){function c(t,e){(e&&p&&p.warn||p.log)&&(p.warn||p.log).call(p,"Relationship '"+t+"' is deprecated, see "+e)}var u,p;return e=e||{},u=e.client,p=e.console||p,e.registry.lookup(e.mime.suffix).then(function(r){return r.read(t,e)}).then(function(t){return i.findProperties(t,"_embedded",function(t,e,n){Object.keys(t).forEach(function(n){if(!(n in e)){var o=a({entity:t[n]});r(e,n,o)}}),r(e,n,t)}),i.findProperties(t,"_links",function(t,e,i){Object.keys(t).forEach(function(n){var i=t[n];n in e||r(e,n,a.make(s(function(){return i.deprecation&&c(n,i.deprecation),i.templated===!0?o(u)({path:i.href}):u({path:i.href})})))}),r(e,i,t),r(e,"clientFor",function(e,r){var i=t[e];if(!i)throw new Error("Unknown relationship: "+e);return i.deprecation&&c(e,i.deprecation),i.templated===!0?o(r||u,{template:i.href}):n(r||u,{prefix:i.href})}),r(e,"requestFor",function(t,e,r){var n=this.clientFor(t,r);return n(e)})}),t})},write:function(t,e){return e.registry.lookup(e.mime.suffix).then(function(r){return r.write(t,e)})}}},{"../../../interceptor/pathPrefix":29,"../../../interceptor/template":30,"../../../util/find":40,"../../../util/lazyPromise":41,"../../../util/responsePromise":44}],34:[function(t,e){"use strict";function r(t,e){return{read:function(e){return JSON.parse(e,t)},write:function(t){return JSON.stringify(t,e)},extend:r}}e.exports=r()},{}],35:[function(t,e){"use strict";function r(t){return t=encodeURIComponent(t),t.replace(i,"+")}function n(t){return t=t.replace(s," "),decodeURIComponent(t)}function o(t,e,n){return Array.isArray(n)?n.forEach(function(r){t=o(t,e,r)}):(t.length>0&&(t+="&"),t+=r(e),void 0!==n&&null!==n&&(t+="="+r(n))),t}var i,s;i=/%20/g,s=/\+/g,e.exports={read:function(t){var e={};return t.split("&").forEach(function(t){var r,o,i;r=t.split("="),o=n(r[0]),i=2===r.length?n(r[1]):null,o in e?(Array.isArray(e[o])||(e[o]=[e[o]]),e[o].push(i)):e[o]=i}),e},write:function(t){var e="";return Object.keys(t).forEach(function(r){
e=o(e,r,t[r])}),e}}},{}],36:[function(t,e){"use strict";function r(t){return t&&1===t.nodeType&&"FORM"===t.tagName}function n(t){var e,r=new FormData;for(var n in t)t.hasOwnProperty(n)&&(e=t[n],e instanceof File?r.append(n,e,e.name):e instanceof Blob?r.append(n,e):r.append(n,String(e)));return r}e.exports={write:function(t){if("undefined"==typeof FormData)throw new Error("The multipart/form-data mime serializer requires FormData support");if(t instanceof FormData)return t;if(r(t))return new FormData(t);if("object"==typeof t&&null!==t)return n(t);throw new Error("Unable to create FormData from object "+t)}}},{}],37:[function(t,e){"use strict";e.exports={read:function(t){return t},write:function(t){return t.toString()}}},{}],38:[function(t,e){"use strict";function r(t){try{return Promise.resolve(t())}catch(e){return Promise.reject(e)}}e.exports=r},{}],39:[function(t,e){"use strict";function r(t){if(/([^\u0000-\u00ff])/.test(t))throw new Error("Can't base64 encode non-ASCII characters.");for(var e,r,n,i=0,s=[];i<t.length;){switch(e=t.charCodeAt(i),n=i%3){case 0:s.push(o.charAt(e>>2));break;case 1:s.push(o.charAt((3&r)<<4|e>>4));break;case 2:s.push(o.charAt((15&r)<<2|e>>6)),s.push(o.charAt(63&e))}r=e,i+=1}return 0===n?(s.push(o.charAt((3&r)<<4)),s.push("==")):1===n&&(s.push(o.charAt((15&r)<<2)),s.push("=")),s.join("")}function n(t){if(t=t.replace(/\s/g,""),!/^[a-z0-9\+\/\s]+\={0,2}$/i.test(t)||t.length%4>0)throw new Error("Not a base64-encoded string.");var e,r,n,i=0,s=[];for(t=t.replace(/\=/g,"");i<t.length;){switch(e=o.indexOf(t.charAt(i)),n=i%4){case 1:s.push(String.fromCharCode(r<<2|e>>4));break;case 2:s.push(String.fromCharCode((15&r)<<4|e>>2));break;case 3:s.push(String.fromCharCode((3&r)<<6|e))}r=e,i+=1}return s.join("")}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports={encode:r,decode:n}},{}],40:[function(t,e){"use strict";e.exports={findProperties:function r(t,e,n){"object"==typeof t&&null!==t&&(e in t&&n(t[e],t,e),Object.keys(t).forEach(function(o){r(t[o],e,n)}))}}},{}],41:[function(t,e){"use strict";function r(t){var e,r,o,i;return e=!1,o=new Promise(function(t,e){r={resolve:t,reject:e}}),i=o.then,o.then=function(){return e||(e=!0,n(t).then(r.resolve,r.reject)),i.apply(o,arguments)},o}var n=t("./attempt");e.exports=r},{"./attempt":38}],42:[function(t,e){"use strict";function r(t){var e,r,o,i;for(t||(t={}),e=1,r=arguments.length;r>e;e+=1){o=arguments[e];for(i in o)i in t&&(t[i]===o[i]||i in n&&n[i]===o[i])||(t[i]=o[i])}return t}var n={};e.exports=r},{}],43:[function(t,e){"use strict";function r(t){return t.toLowerCase().split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("-")}e.exports=r},{}],44:[function(t,e){"use strict";function r(t,e){return t.then(function(t){return t&&t[e]},function(t){return Promise.reject(t&&t[e])})}function n(){return r(this,"entity")}function o(){return r(r(this,"status"),"code")}function i(){return r(this,"headers")}function s(t){return t=p(t),r(this.headers(),t)}function a(t){return t=[].concat(t),c(t.reduce(function(t,e){return t.then(function(t){if("string"==typeof e&&(e={rel:e}),"function"!=typeof t.entity.clientFor)throw new Error("Hypermedia response expected");var r=t.entity.clientFor(e.rel);return r({params:e.params})})},this))}function c(t){return t.status=o,t.headers=i,t.header=s,t.entity=n,t.follow=a,t}function u(t,e,r){return c(Promise.resolve(t).then(e,r))}var p=t("./normalizeHeaderName");u.make=c,u.reject=function(t){return c(Promise.reject(t))},u.promise=function(t){return c(new Promise(t))},e.exports=u},{"./normalizeHeaderName":43}],45:[function(t,e){"use strict";function r(t,e){if("string"!=typeof t)throw new Error("String required for URL encoding");return t.split("").map(function(t){if(e.hasOwnProperty(t))return t;var r=t.charCodeAt(0);if(127>=r){var n=r.toString(16).toUpperCase();return"%"+(n.length%2===1?"0":"")+n}return encodeURIComponent(t).toUpperCase()}).join("")}function n(t){return t=t||i.unreserved,function(e){return r(e,t)}}function o(t){return decodeURIComponent(t)}var i;i=function(){var t={alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",digit:"0123456789"};return t.genDelims=":/?#[]@",t.subDelims="!$&'()*+,;=",t.reserved=t.genDelims+t.subDelims,t.unreserved=t.alpha+t.digit+"-._~",t.url=t.reserved+t.unreserved,t.scheme=t.alpha+t.digit+"+-.",t.userinfo=t.unreserved+t.subDelims+":",t.host=t.unreserved+t.subDelims,t.port=t.digit,t.pchar=t.unreserved+t.subDelims+":@",t.segment=t.pchar,t.path=t.segment+"/",t.query=t.pchar+"/?",t.fragment=t.pchar+"/?",Object.keys(t).reduce(function(e,r){return e[r]=t[r].split("").reduce(function(t,e){return t[e]=!0,t},{}),e},{})}(),e.exports={decode:o,encode:n(),encodeURL:n(i.url),encodeScheme:n(i.scheme),encodeUserInfo:n(i.userinfo),encodeHost:n(i.host),encodePort:n(i.port),encodePathSegment:n(i.segment),encodePath:n(i.path),encodeQuery:n(i.query),encodeFragment:n(i.fragment)}},{}],46:[function(t,e){"use strict";function r(t,e,r){return e.split(",").reduce(function(e,n){var o,s;if(o={},"*"===n.slice(-1)&&(n=n.slice(0,-1),o.explode=!0),a.test(n)){var c=a.exec(n);n=c[1],o.maxLength=parseInt(c[2])}return n=i.decode(n),s=r[n],void 0===s||null===s?e:(Array.isArray(s)?e=s.reduce(function(e,r){return e.length?(e+=o.explode?t.separator:",",t.named&&o.explode&&(e+=t.encoder(n),e+=r.length?"=":t.empty)):(e+=t.first,t.named&&(e+=t.encoder(n),e+=r.length?"=":t.empty)),e+=t.encoder(r)},e):"object"==typeof s?e=Object.keys(s).reduce(function(e,r){return e.length?e+=o.explode?t.separator:",":(e+=t.first,t.named&&!o.explode&&(e+=t.encoder(n),e+=s[r].length?"=":t.empty)),e+=t.encoder(r),e+=o.explode?"=":",",e+=t.encoder(s[r])},e):(s=String(s),o.maxLength&&(s=s.slice(0,o.maxLength)),e+=e.length?t.separator:t.first,t.named&&(e+=t.encoder(n),e+=s.length?"=":t.empty),e+=t.encoder(s)),e)},"")}function n(t,e){var n;if(n=s[t.slice(0,1)],n?t=t.slice(1):n=s[""],n.reserved)throw new Error("Reserved expression operations are not supported");return r(n,t,e)}function o(t,e){var r,o,i;for(i="",o=0;;){if(r=t.indexOf("{",o),-1===r){i+=t.slice(o);break}i+=t.slice(o,r),o=t.indexOf("}",r)+1,i+=n(t.slice(r+1,o-1),e)}return i}var i,s,a;i=t("./uriEncoder"),a=/^([^:]*):([0-9]+)$/,s={"":{first:"",separator:",",named:!1,empty:"",encoder:i.encode},"+":{first:"",separator:",",named:!1,empty:"",encoder:i.encodeURL},"#":{first:"#",separator:",",named:!1,empty:"",encoder:i.encodeURL},".":{first:".",separator:".",named:!1,empty:"",encoder:i.encode},"/":{first:"/",separator:"/",named:!1,empty:"",encoder:i.encode},";":{first:";",separator:";",named:!0,empty:"",encoder:i.encode},"?":{first:"?",separator:"&",named:!0,empty:"=",encoder:i.encode},"&":{first:"&",separator:"&",named:!0,empty:"=",encoder:i.encode},"=":{reserved:!0},",":{reserved:!0},"!":{reserved:!0},"@":{reserved:!0},"|":{reserved:!0}},e.exports={expand:o}},{"./uriEncoder":45}],47:[function(t,e){var r=e.exports=function(t,e){if(e||(e=16),void 0===t&&(t=128),0>=t)return"0";for(var n=Math.log(Math.pow(2,t))/Math.log(e),o=2;n===1/0;o*=2)n=Math.log(Math.pow(2,t/o))/Math.log(e)*o;for(var i=n-Math.floor(n),s="",o=0;o<Math.floor(n);o++){var a=Math.floor(Math.random()*e).toString(e);s=a+s}if(i){var c=Math.pow(e,i),a=Math.floor(Math.random()*c).toString(e);s=a+s}var u=parseInt(s,e);return u!==1/0&&u>=Math.pow(2,t)?r(t,e):s}},{}],48:[function(t,e){(function(t){"use strict";var r=t.env.NODE_ENV,n=function(t,e,n,o,i,s,a,c){if("production"!==r&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,o,i,s,a,c],l=0;u=new Error(e.replace(/%s/g,function(){return p[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=n}).call(this,t("_process"))},{_process:18}],49:[function(t,e){function r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)o.call(r,n)&&(t[n]=r[n])}return t}function n(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)o.call(r,n)&&(t[n]=r[n])}return t}e.exports.extendMutable=r,e.exports.extend=n;var o=Object.prototype.hasOwnProperty},{}]},{},[8])(8)});